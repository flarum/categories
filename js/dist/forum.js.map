{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@flarum/tags/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@flarum/tags/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@flarum/tags/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@flarum/tags/../../../js-packages/webpack-config/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/app')\"","webpack://@flarum/tags/./src/common/states/TagListState.ts","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/IndexPage')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/Separator')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/LinkButton')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/Link')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@flarum/tags/./src/common/helpers/tagIcon.js","webpack://@flarum/tags/./src/forum/components/TagLinkButton.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/Page')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/LoadingIndicator')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/helpers/listItems')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/ItemList')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/helpers/humanTime')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/helpers/textContrastClass')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/extract')\"","webpack://@flarum/tags/./src/common/helpers/tagLabel.js","webpack://@flarum/tags/./src/common/utils/sortTags.tsx","webpack://@flarum/tags/./src/forum/components/TagsPage.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/states/DiscussionListState')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/states/GlobalSearchState')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/Component')\"","webpack://@flarum/tags/./src/forum/components/TagHero.js","webpack://@flarum/tags/./src/forum/addTagFilter.tsx","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/DiscussionListItem')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/DiscussionHero')\"","webpack://@flarum/tags/./src/common/helpers/tagsLabel.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/utils/DiscussionControls')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/DiscussionPage')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/extractText')\"","webpack://@flarum/tags/./src/forum/utils/getSelectableTags.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/helpers/highlight')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/KeyboardNavigatable')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/components/Modal')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@flarum/tags/./src/forum/components/ToggleButton.js","webpack://@flarum/tags/./src/common/components/TagSelectionModal.tsx","webpack://@flarum/tags/./src/forum/components/TagDiscussionModal.tsx","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/DiscussionComposer')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/extenders')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/models/Discussion')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'forum/components/EventPost')\"","webpack://@flarum/tags/./src/forum/components/DiscussionTaggedPost.js","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/utils/computed')\"","webpack://@flarum/tags/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@flarum/tags/./src/common/models/Tag.ts","webpack://@flarum/tags/./src/common/extend.ts","webpack://@flarum/tags/./src/forum/extend.ts","webpack://@flarum/tags/./src/forum/index.ts","webpack://@flarum/tags/./src/forum/addTagList.js","webpack://@flarum/tags/./src/forum/addTagLabels.js","webpack://@flarum/tags/./src/forum/addTagControl.js","webpack://@flarum/tags/./src/forum/addTagComposer.js","webpack://@flarum/tags/webpack/bootstrap","webpack://@flarum/tags/webpack/runtime/compat get default export","webpack://@flarum/tags/webpack/runtime/define property getters","webpack://@flarum/tags/webpack/runtime/hasOwnProperty shorthand","webpack://@flarum/tags/webpack/runtime/make namespace object"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/app');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/common/app';\nexport default class TagListState {\n  constructor() {\n    _defineProperty(this, \"loadedIncludes\", void 0);\n  }\n  async load(includes) {\n    if (includes === void 0) {\n      includes = [];\n    }\n    if (!this.loadedIncludes) {\n      return this.query(includes);\n    }\n    const unloadedIncludes = includes.filter(include => !this.loadedIncludes.has(include));\n    if (unloadedIncludes.length === 0) {\n      return Promise.resolve(app.store.all('tags'));\n    }\n    return this.query(unloadedIncludes);\n  }\n  async query(includes) {\n    var _this$loadedIncludes;\n    if (includes === void 0) {\n      includes = [];\n    }\n    (_this$loadedIncludes = this.loadedIncludes) != null ? _this$loadedIncludes : this.loadedIncludes = new Set();\n    return app.store.find('tags', {\n      include: includes.join(',')\n    }).then(val => {\n      includes.forEach(include => this.loadedIncludes.add(include));\n      return val;\n    });\n  }\n}\nflarum.reg.add('flarum-tags', 'common/states/TagListState', TagListState)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/IndexPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Separator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LinkButton');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Link');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","import classList from 'flarum/common/utils/classList';\nexport default function tagIcon(tag, attrs, settings) {\n  if (attrs === void 0) {\n    attrs = {};\n  }\n  if (settings === void 0) {\n    settings = {};\n  }\n  const hasIcon = tag && tag.icon();\n  const {\n    useColor = true\n  } = settings;\n  attrs.className = classList([attrs.className, 'icon', hasIcon ? tag.icon() : 'TagIcon']);\n  if (tag && useColor) {\n    attrs.style = attrs.style || {};\n    attrs.style['--color'] = tag.color();\n    if (hasIcon) {\n      attrs.style.color = tag.color();\n    }\n  } else if (!tag) {\n    attrs.className += ' untagged';\n  }\n  return hasIcon ? m(\"i\", attrs) : m(\"span\", attrs);\n}\nflarum.reg.add('flarum-tags', 'common/helpers/tagIcon', tagIcon)","import Link from 'flarum/common/components/Link';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport classList from 'flarum/common/utils/classList';\nimport tagIcon from '../../common/helpers/tagIcon';\nexport default class TagLinkButton extends LinkButton {\n  view(vnode) {\n    const tag = this.attrs.model;\n    const description = tag && tag.description();\n    const className = classList('TagLinkButton hasIcon', {\n      child: tag.isChild()\n    }, this.attrs.className);\n    return m(Link, {\n      className: className,\n      href: this.attrs.route,\n      style: tag ? {\n        '--color': tag.color()\n      } : undefined,\n      title: description || undefined\n    }, tagIcon(tag, {\n      className: 'Button-icon'\n    }), m(\"span\", {\n      className: \"Button-label\"\n    }, tag ? tag.name() : app.translator.trans('flarum-tags.forum.index.untagged_link')));\n  }\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n    const tag = attrs.model;\n    attrs.params.tags = tag ? tag.slug() : 'untagged';\n    attrs.route = app.route('tag', attrs.params);\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/TagLinkButton', TagLinkButton)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Page');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LoadingIndicator');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/listItems');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/ItemList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/humanTime');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/textContrastClass');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/extract');","import extract from 'flarum/common/utils/extract';\nimport Link from 'flarum/common/components/Link';\nimport classList from 'flarum/common/utils/classList';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport tagIcon from './tagIcon';\nexport default function tagLabel(tag, attrs) {\n  if (attrs === void 0) {\n    attrs = {};\n  }\n  attrs.style = attrs.style || {};\n  attrs.className = 'TagLabel ' + (attrs.className || '');\n  const link = extract(attrs, 'link');\n  const tagText = tag ? tag.name() : app.translator.trans('flarum-tags.lib.deleted_tag_text');\n  if (tag) {\n    const color = tag.color();\n    if (color) {\n      attrs.style['--tag-bg'] = color;\n      attrs.className = classList(attrs.className, 'colored', textContrastClass(color));\n    }\n    if (link) {\n      attrs.title = tag.description() || '';\n      attrs.href = app.route('tag', {\n        tags: tag.slug()\n      });\n    }\n    if (tag.isChild()) {\n      attrs.className += ' TagLabel--child';\n    }\n  } else {\n    attrs.className += ' untagged';\n  }\n  return m(link ? Link : 'span', attrs, m(\"span\", {\n    className: \"TagLabel-text\"\n  }, tag && tag.icon() && tagIcon(tag, {\n    className: 'TagLabel-icon'\n  }, {\n    useColor: false\n  }), m(\"span\", {\n    className: \"TagLabel-name\"\n  }, tagText)));\n}\nflarum.reg.add('flarum-tags', 'common/helpers/tagLabel', tagLabel)","export default function sortTags(tags) {\n  return tags.slice(0).sort((a, b) => {\n    const aPos = a.position();\n    const bPos = b.position();\n\n    // If they're both secondary tags, sort them by their discussions count,\n    // descending.\n    if (aPos === null && bPos === null) return b.discussionCount() - a.discussionCount();\n\n    // If just one is a secondary tag, then the primary tag should\n    // come first.\n    if (bPos === null) return -1;\n    if (aPos === null) return 1;\n\n    // If we've made it this far, we know they're both primary tags. So we'll\n    // need to see if they have parents.\n    const aParent = a.parent();\n    const bParent = b.parent();\n\n    // If they both have the same parent, then their positions are local,\n    // so we can compare them directly.\n    if (aParent === bParent) return aPos - bPos;\n    // If they are both child tags, then we will compare the positions of their\n    // parents.\n    else if (aParent && bParent) return aParent.position() - bParent.position();\n    // If we are comparing a child tag with its parent, then we let the parent\n    // come first. If we are comparing an unrelated parent/child, then we\n    // compare both of the parents.\n    else if (aParent) return aParent === b ? 1 : aParent.position() - bPos;else if (bParent) return bParent === a ? -1 : aPos - bParent.position();\n    return 0;\n  });\n}\nflarum.reg.add('flarum-tags', 'common/utils/sortTags', sortTags)","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Link from 'flarum/common/components/Link';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport listItems from 'flarum/common/helpers/listItems';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport classList from 'flarum/common/utils/classList';\nimport tagIcon from '../../common/helpers/tagIcon';\nimport tagLabel from '../../common/helpers/tagLabel';\nimport sortTags from '../../common/utils/sortTags';\nexport default class TagsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    app.history.push('tags', app.translator.trans('flarum-tags.forum.header.back_to_tags_tooltip'));\n    this.tags = [];\n    const preloaded = app.preloadedApiDocument();\n    if (preloaded) {\n      this.tags = sortTags(preloaded.filter(tag => !tag.isChild()));\n      return;\n    }\n    this.loading = true;\n    app.tagList.load(['children', 'lastPostedDiscussion', 'parent']).then(() => {\n      this.tags = sortTags(app.store.all('tags').filter(tag => !tag.isChild()));\n      this.loading = false;\n      m.redraw();\n    });\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    app.setTitle(app.translator.trans('flarum-tags.forum.all_tags.meta_title_text'));\n    app.setTitleCount(0);\n  }\n  view() {\n    return m(\"div\", {\n      className: \"TagsPage\"\n    }, this.pageContent().toArray());\n  }\n  pageContent() {\n    const items = new ItemList();\n    items.add('hero', this.hero(), 100);\n    items.add('main', m(\"div\", {\n      className: \"container\"\n    }, this.mainContent().toArray()), 10);\n    return items;\n  }\n  mainContent() {\n    const items = new ItemList();\n    items.add('sidebar', this.sidebar(), 100);\n    items.add('content', this.content(), 10);\n    return items;\n  }\n  content() {\n    return m(\"div\", {\n      className: \"TagsPage-content sideNavOffset\"\n    }, this.contentItems().toArray());\n  }\n  contentItems() {\n    const items = new ItemList();\n    if (this.loading) {\n      items.add('loading', m(LoadingIndicator, null));\n    } else {\n      const pinned = this.tags.filter(tag => tag.position() !== null);\n      const cloud = this.tags.filter(tag => tag.position() === null);\n      items.add('tagTiles', this.tagTileListView(pinned), 100);\n      if (cloud.length) {\n        items.add('cloud', this.cloudView(cloud), 10);\n      }\n    }\n    return items;\n  }\n  hero() {\n    return IndexPage.prototype.hero();\n  }\n  sidebar() {\n    return m(\"nav\", {\n      className: \"TagsPage-nav IndexPage-nav sideNav\"\n    }, m(\"ul\", null, listItems(this.sidebarItems().toArray())));\n  }\n  sidebarItems() {\n    return IndexPage.prototype.sidebarItems();\n  }\n  tagTileListView(pinned) {\n    return m(\"ul\", {\n      className: \"TagTiles\"\n    }, pinned.map(this.tagTileView.bind(this)));\n  }\n  tagTileView(tag) {\n    const lastPostedDiscussion = tag.lastPostedDiscussion();\n    const children = sortTags(tag.children() || []);\n    return m(\"li\", {\n      className: classList('TagTile', {\n        colored: tag.color()\n      }, textContrastClass(tag.color())),\n      style: {\n        '--tag-bg': tag.color()\n      }\n    }, m(Link, {\n      className: \"TagTile-info\",\n      href: app.route.tag(tag)\n    }, tag.icon() && tagIcon(tag, {}, {\n      useColor: false\n    }), m(\"h3\", {\n      className: \"TagTile-name\"\n    }, tag.name()), m(\"p\", {\n      className: \"TagTile-description\"\n    }, tag.description()), !!children && m(\"div\", {\n      className: \"TagTile-children\"\n    }, children.map(child => [m(Link, {\n      href: app.route.tag(child)\n    }, child.name()), ' ']))), lastPostedDiscussion ? m(Link, {\n      className: \"TagTile-lastPostedDiscussion\",\n      href: app.route.discussion(lastPostedDiscussion, lastPostedDiscussion.lastPostNumber())\n    }, m(\"span\", {\n      className: \"TagTile-lastPostedDiscussion-title\"\n    }, lastPostedDiscussion.title()), humanTime(lastPostedDiscussion.lastPostedAt())) : m(\"span\", {\n      className: \"TagTile-lastPostedDiscussion\"\n    }));\n  }\n  cloudView(cloud) {\n    return m(\"div\", {\n      className: \"TagCloud\"\n    }, cloud.map(tag => [tagLabel(tag, {\n      link: true\n    }), ' ']));\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/TagsPage', TagsPage)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/states/DiscussionListState');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/states/GlobalSearchState');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Component');","import Component from 'flarum/common/Component';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport tagIcon from '../../common/helpers/tagIcon';\nimport classList from 'flarum/common/utils/classList';\nexport default class TagHero extends Component {\n  view() {\n    const tag = this.attrs.model;\n    const color = tag.color();\n    return m(\"header\", {\n      className: classList('Hero', 'TagHero', {\n        'TagHero--colored': color,\n        [textContrastClass(color)]: color\n      }),\n      style: color ? {\n        '--hero-bg': color\n      } : undefined\n    }, m(\"div\", {\n      className: \"container\"\n    }, m(\"div\", {\n      className: \"containerNarrow\"\n    }, m(\"h1\", {\n      className: \"Hero-title\"\n    }, tag.icon() && tagIcon(tag, {}, {\n      useColor: false\n    }), \" \", tag.name()), m(\"div\", {\n      className: \"Hero-subtitle\"\n    }, tag.description()))));\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/TagHero', TagHero)","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport GlobalSearchState from 'flarum/forum/states/GlobalSearchState';\nimport classList from 'flarum/common/utils/classList';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport TagHero from './components/TagHero';\nconst findTag = slug => app.store.all('tags').find(tag => tag.slug().localeCompare(slug, undefined, {\n  sensitivity: 'base'\n}) === 0);\nexport default function () {\n  IndexPage.prototype.currentTag = function () {\n    if (this.currentActiveTag) {\n      return this.currentActiveTag;\n    }\n    const slug = app.search.params().tags;\n    let tag = null;\n    if (slug) {\n      tag = findTag(slug);\n    }\n    if (slug && !tag || tag && !tag.isChild() && !tag.children()) {\n      if (this.currentTagLoading) {\n        return;\n      }\n      this.currentTagLoading = true;\n\n      // Unlike the backend, no need to fetch parent.children because if we're on\n      // a child tag page, then either:\n      //    - We loaded in that child tag (and its siblings) in the API document\n      //    - We first navigated to the current tag's parent, which would have loaded in the current tag's siblings.\n      app.store.find('tags', slug, {\n        include: 'children,children.parent,parent,state'\n      }).then(() => {\n        this.currentActiveTag = findTag(slug);\n        m.redraw();\n      }).finally(() => {\n        this.currentTagLoading = false;\n      });\n    }\n    if (tag) {\n      this.currentActiveTag = tag;\n      return this.currentActiveTag;\n    }\n    return;\n  };\n\n  // If currently viewing a tag, insert a tag hero at the top of the view.\n  override(IndexPage.prototype, 'hero', function (original) {\n    const tag = this.currentTag();\n    if (tag) return m(TagHero, {\n      model: tag\n    });\n    return original();\n  });\n  extend(IndexPage.prototype, 'view', function (vdom) {\n    const tag = this.currentTag();\n    if (tag) vdom.attrs.className += ' IndexPage--tag' + tag.id();\n  });\n  extend(IndexPage.prototype, 'setTitle', function () {\n    const tag = this.currentTag();\n    if (tag) {\n      app.setTitle(tag.name());\n    }\n  });\n\n  // If currently viewing a tag, restyle the 'new discussion' button to use\n  // the tag's color, and disable if the user isn't allowed to edit.\n  extend(IndexPage.prototype, 'sidebarItems', function (items) {\n    const tag = this.currentTag();\n    if (tag) {\n      const color = tag.color();\n      const canStartDiscussion = tag.canStartDiscussion() || !app.session.user;\n      const newDiscussion = items.get('newDiscussion');\n      if (color) {\n        newDiscussion.attrs.className = classList([newDiscussion.attrs.className, 'Button--tagColored', textContrastClass(color)]);\n        newDiscussion.attrs.style = {\n          '--color': color\n        };\n      }\n      newDiscussion.attrs.disabled = !canStartDiscussion;\n      newDiscussion.children = app.translator.trans(canStartDiscussion ? 'core.forum.index.start_discussion_button' : 'core.forum.index.cannot_start_discussion_button');\n    }\n  });\n\n  // Add a parameter for the global search state to pass on to the\n  // DiscussionListState that will let us filter discussions by tag.\n  extend(GlobalSearchState.prototype, 'params', function (params) {\n    params.tags = m.route.param('tags');\n  });\n\n  // Translate that parameter into a gambit appended to the search query.\n  extend(DiscussionListState.prototype, 'requestParams', function (params) {\n    if (typeof params.include === 'string') {\n      params.include = [params.include];\n    } else {\n      var _params$include;\n      (_params$include = params.include) == null ? void 0 : _params$include.push('tags', 'tags.parent');\n    }\n    if (this.params.tags) {\n      var _params$filter;\n      const filter = (_params$filter = params.filter) != null ? _params$filter : {};\n      filter.tag = this.params.tags;\n      // TODO: replace this with a more robust system.\n      const q = filter.q;\n      if (q) {\n        filter.q = \"\".concat(q, \" tag:\").concat(this.params.tags);\n      }\n      params.filter = filter;\n    }\n  });\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionListItem');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionHero');","import extract from 'flarum/common/utils/extract';\nimport tagLabel from './tagLabel';\nimport sortTags from '../utils/sortTags';\nimport classList from 'flarum/common/utils/classList';\nexport default function tagsLabel(tags, attrs) {\n  if (attrs === void 0) {\n    attrs = {};\n  }\n  const children = [];\n  const {\n    link,\n    ...otherAttrs\n  } = attrs;\n  otherAttrs.className = classList('TagsLabel', otherAttrs.className);\n  if (tags) {\n    sortTags(tags).forEach(tag => {\n      if (tag || tags.length === 1) {\n        children.push(tagLabel(tag, {\n          link\n        }));\n      }\n    });\n  } else {\n    children.push(tagLabel());\n  }\n  return m(\"span\", otherAttrs, children);\n}\nflarum.reg.add('flarum-tags', 'common/helpers/tagsLabel', tagsLabel)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/DiscussionControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/extractText');","export default function getSelectableTags(discussion) {\n  let tags = app.store.all('tags');\n  if (discussion) {\n    tags = tags.filter(tag => tag.canAddToDiscussion() || discussion.tags().indexOf(tag) !== -1);\n  } else {\n    tags = tags.filter(tag => tag.canStartDiscussion());\n  }\n  return tags;\n}\nflarum.reg.add('flarum-tags', 'forum/utils/getSelectableTags', getSelectableTags)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/highlight');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/KeyboardNavigatable');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Modal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport classList from 'flarum/common/utils/classList';\n\n/**\n * @TODO move to core\n */\nexport default class ToggleButton extends Component {\n  view(vnode) {\n    const {\n      className,\n      isToggled,\n      ...attrs\n    } = this.attrs;\n    const icon = isToggled ? 'far fa-check-circle' : 'far fa-circle';\n    return m(Button, Object.assign({}, attrs, {\n      icon: icon,\n      className: classList([className, isToggled && 'Button--toggled'])\n    }), vnode.children);\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/ToggleButton', ToggleButton)","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport app from 'flarum/common/app';\nimport Button from 'flarum/common/components/Button';\nimport classList from 'flarum/common/utils/classList';\nimport extractText from 'flarum/common/utils/extractText';\nimport highlight from 'flarum/common/helpers/highlight';\nimport KeyboardNavigatable from 'flarum/common/utils/KeyboardNavigatable';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Modal from 'flarum/common/components/Modal';\nimport Stream from 'flarum/common/utils/Stream';\nimport sortTags from '../utils/sortTags';\nimport tagLabel from '../helpers/tagLabel';\nimport tagIcon from '../helpers/tagIcon';\nimport ToggleButton from '../../forum/components/ToggleButton';\nexport default class TagSelectionModal extends Modal {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"loading\", true);\n    _defineProperty(this, \"tags\", void 0);\n    _defineProperty(this, \"selected\", []);\n    _defineProperty(this, \"bypassReqs\", false);\n    _defineProperty(this, \"filter\", Stream(''));\n    _defineProperty(this, \"focused\", false);\n    _defineProperty(this, \"navigator\", new KeyboardNavigatable());\n    _defineProperty(this, \"indexTag\", void 0);\n  }\n  static initAttrs(attrs) {\n    var _attrs$allowResetting, _attrs$limits$min$tot, _attrs$limits, _attrs$limits$min, _attrs$limits$min$pri, _attrs$limits2, _attrs$limits2$min, _attrs$limits$min$sec, _attrs$limits3, _attrs$limits3$min, _attrs$limits$max$tot, _attrs$limits4, _attrs$limits4$max, _attrs$limits$max$pri, _attrs$limits5, _attrs$limits5$max, _attrs$limits$max$sec, _attrs$limits6, _attrs$limits6$max;\n    super.initAttrs(attrs);\n\n    // Default values for optional attributes.\n    attrs.title || (attrs.title = extractText(app.translator.trans('flarum-tags.lib.tag_selection_modal.title')));\n    attrs.canSelect || (attrs.canSelect = () => true);\n    (_attrs$allowResetting = attrs.allowResetting) != null ? _attrs$allowResetting : attrs.allowResetting = true;\n    attrs.limits = {\n      min: {\n        total: (_attrs$limits$min$tot = (_attrs$limits = attrs.limits) == null ? void 0 : (_attrs$limits$min = _attrs$limits.min) == null ? void 0 : _attrs$limits$min.total) != null ? _attrs$limits$min$tot : -Infinity,\n        primary: (_attrs$limits$min$pri = (_attrs$limits2 = attrs.limits) == null ? void 0 : (_attrs$limits2$min = _attrs$limits2.min) == null ? void 0 : _attrs$limits2$min.primary) != null ? _attrs$limits$min$pri : -Infinity,\n        secondary: (_attrs$limits$min$sec = (_attrs$limits3 = attrs.limits) == null ? void 0 : (_attrs$limits3$min = _attrs$limits3.min) == null ? void 0 : _attrs$limits3$min.secondary) != null ? _attrs$limits$min$sec : -Infinity\n      },\n      max: {\n        total: (_attrs$limits$max$tot = (_attrs$limits4 = attrs.limits) == null ? void 0 : (_attrs$limits4$max = _attrs$limits4.max) == null ? void 0 : _attrs$limits4$max.total) != null ? _attrs$limits$max$tot : Infinity,\n        primary: (_attrs$limits$max$pri = (_attrs$limits5 = attrs.limits) == null ? void 0 : (_attrs$limits5$max = _attrs$limits5.max) == null ? void 0 : _attrs$limits5$max.primary) != null ? _attrs$limits$max$pri : Infinity,\n        secondary: (_attrs$limits$max$sec = (_attrs$limits6 = attrs.limits) == null ? void 0 : (_attrs$limits6$max = _attrs$limits6.max) == null ? void 0 : _attrs$limits6$max.secondary) != null ? _attrs$limits$max$sec : Infinity\n      }\n    };\n\n    // Prevent illogical limits from being provided.\n    catchInvalidLimits(attrs.limits);\n  }\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.navigator.onUp(() => this.setIndex(this.getCurrentNumericIndex() - 1, true)).onDown(() => this.setIndex(this.getCurrentNumericIndex() + 1, true)).onSelect(this.select.bind(this)).onRemove(() => this.selected.splice(this.selected.length - 1, 1));\n    app.tagList.load(['parent']).then(tags => {\n      this.loading = false;\n      if (this.attrs.selectableTags) {\n        tags = this.attrs.selectableTags(tags);\n      }\n      this.tags = sortTags(tags);\n      if (this.attrs.selectedTags) {\n        this.attrs.selectedTags.map(this.addTag.bind(this));\n      }\n      this.indexTag = tags[0];\n      m.redraw();\n    });\n  }\n  className() {\n    return classList('TagSelectionModal', this.attrs.className);\n  }\n  title() {\n    return this.attrs.title;\n  }\n  content() {\n    if (this.loading || !this.tags) {\n      return m(LoadingIndicator, null);\n    }\n    const filter = this.filter().toLowerCase();\n    const primaryCount = this.primaryCount();\n    const secondaryCount = this.secondaryCount();\n    const tags = this.getFilteredTags();\n    const inputWidth = Math.max(extractText(this.getInstruction(primaryCount, secondaryCount)).length, this.filter().length);\n    return [m(\"div\", {\n      className: \"Modal-body\"\n    }, m(\"div\", {\n      className: \"TagSelectionModal-form\"\n    }, m(\"div\", {\n      className: \"TagSelectionModal-form-input\"\n    }, m(\"div\", {\n      className: 'TagsInput FormControl ' + (this.focused ? 'focus' : ''),\n      onclick: () => this.$('.TagsInput input').focus()\n    }, m(\"span\", {\n      className: \"TagsInput-selected\"\n    }, this.selected.map(tag => m(\"span\", {\n      className: \"TagsInput-tag\",\n      onclick: () => {\n        this.removeTag(tag);\n        this.onready();\n      }\n    }, tagLabel(tag)))), m(\"input\", {\n      className: \"FormControl\",\n      placeholder: extractText(this.getInstruction(primaryCount, secondaryCount)),\n      bidi: this.filter,\n      style: {\n        width: inputWidth + 'ch'\n      },\n      onkeydown: this.navigator.navigate.bind(this.navigator),\n      onfocus: () => this.focused = true,\n      onblur: () => this.focused = false\n    }))), m(\"div\", {\n      className: \"TagSelectionModal-form-submit App-primaryControl\"\n    }, m(Button, {\n      type: \"submit\",\n      className: \"Button Button--primary\",\n      disabled: !this.meetsRequirements(primaryCount, secondaryCount),\n      icon: \"fas fa-check\"\n    }, app.translator.trans('flarum-tags.lib.tag_selection_modal.submit_button'))))), m(\"div\", {\n      className: \"Modal-footer\"\n    }, m(\"ul\", {\n      className: \"TagSelectionModal-list SelectTagList\"\n    }, tags.map(tag => m(\"li\", {\n      \"data-index\": tag.id(),\n      className: classList({\n        pinned: tag.position() !== null,\n        child: !!tag.parent(),\n        colored: !!tag.color(),\n        selected: this.selected.includes(tag),\n        active: this.indexTag === tag\n      }),\n      style: {\n        color: tag.color()\n      },\n      onmouseover: () => this.indexTag = tag,\n      onclick: this.toggleTag.bind(this, tag)\n    }, tagIcon(tag), m(\"span\", {\n      className: \"SelectTagListItem-name\"\n    }, highlight(tag.name(), filter)), tag.description() ? m(\"span\", {\n      className: \"SelectTagListItem-description\"\n    }, tag.description()) : ''))), this.attrs.limits.allowBypassing && m(\"div\", {\n      className: \"TagSelectionModal-controls\"\n    }, m(ToggleButton, {\n      className: \"Button\",\n      onclick: () => this.bypassReqs = !this.bypassReqs,\n      isToggled: this.bypassReqs\n    }, app.translator.trans('flarum-tags.lib.tag_selection_modal.bypass_requirements'))))];\n  }\n\n  /**\n   * Filters the available tags on every state change.\n   */\n  getFilteredTags() {\n    const filter = this.filter().toLowerCase();\n    const primaryCount = this.primaryCount();\n    const secondaryCount = this.secondaryCount();\n    let tags = this.tags;\n    if (this.attrs.requireParentTag) {\n      // Filter out all child tags whose parents have not been selected. This\n      // makes it impossible to select a child if its parent hasn't been selected.\n      tags = tags.filter(tag => {\n        const parent = tag.parent();\n        return parent !== null && (parent === false || this.selected.includes(parent));\n      });\n    }\n    if (!this.bypassReqs) {\n      // If we reached the total maximum number of tags, we can't select anymore.\n      if (this.selected.length >= this.attrs.limits.max.total) {\n        tags = tags.filter(tag => this.selected.includes(tag));\n      }\n      // If the number of selected primary/secondary tags is at the maximum, then\n      // we'll filter out all other tags of that type.\n      else {\n        if (primaryCount >= this.attrs.limits.max.primary) {\n          tags = tags.filter(tag => !tag.isPrimary() || this.selected.includes(tag));\n        }\n        if (secondaryCount >= this.attrs.limits.max.secondary) {\n          tags = tags.filter(tag => tag.isPrimary() || this.selected.includes(tag));\n        }\n      }\n    }\n\n    // If the user has entered text in the filter input, then filter by tags\n    // whose name matches what they've entered.\n    if (filter) {\n      tags = tags.filter(tag => tag.name().toLowerCase().includes(filter));\n    }\n    if (!this.indexTag || !tags.includes(this.indexTag)) this.indexTag = tags[0];\n    return tags;\n  }\n\n  /**\n   * Counts the number of selected primary tags.\n   */\n  primaryCount() {\n    return this.selected.filter(tag => tag.isPrimary()).length;\n  }\n\n  /**\n   * Counts the number of selected secondary tags.\n   */\n  secondaryCount() {\n    return this.selected.filter(tag => !tag.isPrimary()).length;\n  }\n\n  /**\n   * Validates the number of selected primary/secondary tags against the set min max limits.\n   */\n  meetsRequirements(primaryCount, secondaryCount) {\n    if (this.bypassReqs || this.attrs.allowResetting && this.selected.length === 0) {\n      return true;\n    }\n    if (this.selected.length < this.attrs.limits.min.total) {\n      return false;\n    }\n    return primaryCount >= this.attrs.limits.min.primary && secondaryCount >= this.attrs.limits.min.secondary;\n  }\n\n  /**\n   * Add the given tag to the list of selected tags.\n   */\n  addTag(tag) {\n    if (!tag || !this.attrs.canSelect(tag)) return;\n    if (this.attrs.onSelect) {\n      this.attrs.onSelect(tag, this.selected);\n    }\n\n    // If this tag has a parent, we'll also need to add the parent tag to the\n    // selected list if it's not already in there.\n    if (this.attrs.requireParentTag) {\n      const parent = tag.parent();\n      if (parent && !this.selected.includes(parent)) {\n        this.selected.push(parent);\n      }\n    }\n    if (!this.selected.includes(tag)) {\n      this.selected.push(tag);\n    }\n  }\n\n  /**\n   * Remove the given tag from the list of selected tags.\n   */\n  removeTag(tag) {\n    const index = this.selected.indexOf(tag);\n    if (index !== -1) {\n      this.selected.splice(index, 1);\n\n      // Look through the list of selected tags for any tags which have the tag\n      // we just removed as their parent. We'll need to remove them too.\n      if (this.attrs.requireParentTag) {\n        this.selected.filter(t => t.parent() === tag).forEach(this.removeTag.bind(this));\n      }\n      if (this.attrs.onDeselect) {\n        this.attrs.onDeselect(tag, this.selected);\n      }\n    }\n  }\n  toggleTag(tag) {\n    // Won't happen, needed for type safety.\n    if (!this.tags) return;\n    if (this.selected.includes(tag)) {\n      this.removeTag(tag);\n    } else {\n      this.addTag(tag);\n    }\n    if (this.filter()) {\n      this.filter('');\n      this.indexTag = this.tags[0];\n    }\n    this.onready();\n  }\n\n  /**\n   * Gives human text instructions based on the current number of selected tags and set limits.\n   */\n  getInstruction(primaryCount, secondaryCount) {\n    if (this.bypassReqs) {\n      return '';\n    }\n    if (primaryCount < this.attrs.limits.min.primary) {\n      const remaining = this.attrs.limits.min.primary - primaryCount;\n      return extractText(app.translator.trans('flarum-tags.lib.tag_selection_modal.choose_primary_placeholder', {\n        count: remaining\n      }));\n    } else if (secondaryCount < this.attrs.limits.min.secondary) {\n      const remaining = this.attrs.limits.min.secondary - secondaryCount;\n      return extractText(app.translator.trans('flarum-tags.lib.tag_selection_modal.choose_secondary_placeholder', {\n        count: remaining\n      }));\n    } else if (this.selected.length < this.attrs.limits.min.total) {\n      const remaining = this.attrs.limits.min.total - this.selected.length;\n      return extractText(app.translator.trans('flarum-tags.lib.tag_selection_modal.choose_tags_placeholder', {\n        count: remaining\n      }));\n    }\n    return '';\n  }\n\n  /**\n   * Submit tag selection.\n   */\n  onsubmit(e) {\n    e.preventDefault();\n    if (this.attrs.onsubmit) this.attrs.onsubmit(this.selected);\n    this.hide();\n  }\n  select(e) {\n    // Ctrl + Enter submits the selection, just Enter completes the current entry\n    if (e.metaKey || e.ctrlKey || this.indexTag && this.selected.includes(this.indexTag)) {\n      if (this.selected.length) {\n        // The DOM submit method doesn't emit a `submit event, so we\n        // simulate a manual submission so our `onsubmit` logic is run.\n        this.$('button[type=\"submit\"]').click();\n      }\n    } else if (this.indexTag) {\n      this.getItem(this.indexTag)[0].dispatchEvent(new Event('click'));\n    }\n  }\n  selectableItems() {\n    return this.$('.TagSelectionModal-list > li');\n  }\n  getCurrentNumericIndex() {\n    if (!this.indexTag) return -1;\n    return this.selectableItems().index(this.getItem(this.indexTag));\n  }\n  getItem(selectedTag) {\n    return this.selectableItems().filter(\"[data-index=\\\"\".concat(selectedTag.id(), \"\\\"]\"));\n  }\n  setIndex(index, scrollToItem) {\n    const $items = this.selectableItems();\n    const $dropdown = $items.parent();\n    if (index < 0) {\n      index = $items.length - 1;\n    } else if (index >= $items.length) {\n      index = 0;\n    }\n    const $item = $items.eq(index);\n    this.indexTag = app.store.getById('tags', $item.attr('data-index'));\n    m.redraw();\n    if (scrollToItem && this.indexTag) {\n      const dropdownScroll = $dropdown.scrollTop();\n      const dropdownTop = $dropdown.offset().top;\n      const dropdownBottom = dropdownTop + $dropdown.outerHeight();\n      const itemTop = $item.offset().top;\n      const itemBottom = itemTop + $item.outerHeight();\n      let scrollTop;\n      if (itemTop < dropdownTop) {\n        scrollTop = dropdownScroll - dropdownTop + itemTop - parseInt($dropdown.css('padding-top'), 10);\n      } else if (itemBottom > dropdownBottom) {\n        scrollTop = dropdownScroll - dropdownBottom + itemBottom + parseInt($dropdown.css('padding-bottom'), 10);\n      }\n      if (typeof scrollTop !== 'undefined') {\n        $dropdown.stop(true).animate({\n          scrollTop\n        }, 100);\n      }\n    }\n  }\n}\n\n/**\n * Catch invalid limits provided to the tag selection modal.\n */\nfunction catchInvalidLimits(limits) {\n  if (limits.min.primary > limits.max.primary) {\n    throw new Error('The minimum number of primary tags allowed cannot be more than the maximum number of primary tags allowed.');\n  }\n  if (limits.min.secondary > limits.max.secondary) {\n    throw new Error('The minimum number of secondary tags allowed cannot be more than the maximum number of secondary tags allowed.');\n  }\n  if (limits.min.total > limits.max.primary + limits.max.secondary) {\n    throw new Error('The minimum number of tags allowed cannot be more than the maximum number of primary and secondary tags allowed together.');\n  }\n  if (limits.max.total < limits.min.primary + limits.min.secondary) {\n    throw new Error('The maximum number of tags allowed cannot be less than the minimum number of primary and secondary tags allowed together.');\n  }\n  if (limits.min.total > limits.max.total) {\n    throw new Error('The minimum number of tags allowed cannot be more than the maximum number of tags allowed.');\n  }\n}\nflarum.reg.add('flarum-tags', 'common/components/TagSelectionModal', TagSelectionModal)","import app from 'flarum/forum/app';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport classList from 'flarum/common/utils/classList';\nimport extractText from 'flarum/common/utils/extractText';\nimport getSelectableTags from '../utils/getSelectableTags';\nimport TagSelectionModal from '../../common/components/TagSelectionModal';\nexport default class TagDiscussionModal extends TagSelectionModal {\n  static initAttrs(attrs) {\n    var _attrs$selectedTags, _attrs$discussion;\n    super.initAttrs(attrs);\n    const title = attrs.discussion ? app.translator.trans('flarum-tags.forum.choose_tags.edit_title', {\n      title: m(\"em\", null, attrs.discussion.title())\n    }) : app.translator.trans('flarum-tags.forum.choose_tags.title');\n    attrs.className = classList(attrs.className, 'TagDiscussionModal');\n    attrs.title = extractText(title);\n    attrs.allowResetting = !!app.forum.attribute('canBypassTagCounts');\n    attrs.limits = {\n      allowBypassing: attrs.allowResetting,\n      max: {\n        primary: app.forum.attribute('maxPrimaryTags'),\n        secondary: app.forum.attribute('maxSecondaryTags')\n      },\n      min: {\n        primary: app.forum.attribute('minPrimaryTags'),\n        secondary: app.forum.attribute('minSecondaryTags')\n      }\n    };\n    attrs.requireParentTag = true;\n    attrs.selectableTags = () => getSelectableTags(attrs.discussion);\n    (_attrs$selectedTags = attrs.selectedTags) != null ? _attrs$selectedTags : attrs.selectedTags = ((_attrs$discussion = attrs.discussion) == null ? void 0 : _attrs$discussion.tags()) || [];\n    attrs.canSelect = tag => tag.canStartDiscussion();\n    const suppliedOnsubmit = attrs.onsubmit || null;\n\n    // Save changes.\n    attrs.onsubmit = function (tags) {\n      const discussion = attrs.discussion;\n      if (discussion) {\n        discussion.save({\n          relationships: {\n            tags\n          }\n        }).then(() => {\n          if (app.current.matches(DiscussionPage)) {\n            app.current.get('stream').update();\n          }\n          m.redraw();\n        });\n      }\n      if (suppliedOnsubmit) suppliedOnsubmit(tags);\n    };\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/TagDiscussionModal', TagDiscussionModal)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionComposer');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extenders');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Discussion');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/EventPost');","import EventPost from 'flarum/forum/components/EventPost';\nimport tagsLabel from '../../common/helpers/tagsLabel';\nexport default class DiscussionTaggedPost extends EventPost {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n    const oldTags = attrs.post.content()[0];\n    const newTags = attrs.post.content()[1];\n    function diffTags(tags1, tags2) {\n      return tags1.filter(tag => tags2.indexOf(tag) === -1).map(id => app.store.getById('tags', id));\n    }\n    attrs.tagsAdded = diffTags(newTags, oldTags);\n    attrs.tagsRemoved = diffTags(oldTags, newTags);\n  }\n  icon() {\n    return 'fas fa-tag';\n  }\n  descriptionKey() {\n    if (this.attrs.tagsAdded.length) {\n      if (this.attrs.tagsRemoved.length) {\n        return 'flarum-tags.forum.post_stream.added_and_removed_tags_text';\n      }\n      return 'flarum-tags.forum.post_stream.added_tags_text';\n    }\n    return 'flarum-tags.forum.post_stream.removed_tags_text';\n  }\n  descriptionData() {\n    const data = {};\n    if (this.attrs.tagsAdded.length) {\n      data.tagsAdded = app.translator.trans('flarum-tags.forum.post_stream.tags_text', {\n        tags: tagsLabel(this.attrs.tagsAdded, {\n          link: true\n        }),\n        count: this.attrs.tagsAdded.length\n      });\n    }\n    if (this.attrs.tagsRemoved.length) {\n      data.tagsRemoved = app.translator.trans('flarum-tags.forum.post_stream.tags_text', {\n        tags: tagsLabel(this.attrs.tagsRemoved, {\n          link: true\n        }),\n        count: this.attrs.tagsRemoved.length\n      });\n    }\n    return data;\n  }\n}\nflarum.reg.add('flarum-tags', 'forum/components/DiscussionTaggedPost', DiscussionTaggedPost)","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/computed');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","import computed from 'flarum/common/utils/computed';\nimport Model from 'flarum/common/Model';\nexport default class Tag extends Model {\n  name() {\n    return Model.attribute('name').call(this);\n  }\n  slug() {\n    return Model.attribute('slug').call(this);\n  }\n  description() {\n    return Model.attribute('description').call(this);\n  }\n  color() {\n    return Model.attribute('color').call(this);\n  }\n  backgroundUrl() {\n    return Model.attribute('backgroundUrl').call(this);\n  }\n  backgroundMode() {\n    return Model.attribute('backgroundMode').call(this);\n  }\n  icon() {\n    return Model.attribute('icon').call(this);\n  }\n  position() {\n    return Model.attribute('position').call(this);\n  }\n  parent() {\n    return Model.hasOne('parent').call(this);\n  }\n  children() {\n    return Model.hasMany('children').call(this);\n  }\n  defaultSort() {\n    return Model.attribute('defaultSort').call(this);\n  }\n  isChild() {\n    return Model.attribute('isChild').call(this);\n  }\n  isHidden() {\n    return Model.attribute('isHidden').call(this);\n  }\n  discussionCount() {\n    return Model.attribute('discussionCount').call(this);\n  }\n  lastPostedAt() {\n    return Model.attribute('lastPostedAt', Model.transformDate).call(this);\n  }\n  lastPostedDiscussion() {\n    return Model.hasOne('lastPostedDiscussion').call(this);\n  }\n  isRestricted() {\n    return Model.attribute('isRestricted').call(this);\n  }\n  canStartDiscussion() {\n    return Model.attribute('canStartDiscussion').call(this);\n  }\n  canAddToDiscussion() {\n    return Model.attribute('canAddToDiscussion').call(this);\n  }\n  isPrimary() {\n    return computed('position', 'parent', (position, parent) => position !== null && parent === false).call(this);\n  }\n}\nflarum.reg.add('flarum-tags', 'common/models/Tag', Tag)","import Extend from 'flarum/common/extenders';\nimport Tag from './models/Tag';\nexport default [new Extend.Store() //\n.add('tags', Tag)];","import app from 'flarum/forum/app';\nimport Extend from 'flarum/common/extenders';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Discussion from 'flarum/common/models/Discussion';\nimport DiscussionTaggedPost from './components/DiscussionTaggedPost';\nimport TagsPage from './components/TagsPage';\nimport commonExtend from '../common/extend';\nexport default [...commonExtend, new Extend.Routes() //\n.add('tags', '/tags', TagsPage) //\n.add('tag', '/t/:tags', IndexPage) //\n.helper('tag', tag => app.route('tag', {\n  tags: tag.slug()\n})), new Extend.PostTypes() //\n.add('discussionTagged', DiscussionTaggedPost), new Extend.Model(Discussion) //\n.hasMany('tags') //\n.attribute('canTag')];","import app from 'flarum/forum/app';\nimport TagListState from '../common/states/TagListState';\nimport addTagList from './addTagList';\nimport addTagFilter from './addTagFilter';\nimport addTagLabels from './addTagLabels';\nimport addTagControl from './addTagControl';\nimport addTagComposer from './addTagComposer';\nexport { default as extend } from './extend';\napp.initializers.add('flarum-tags', function () {\n  app.tagList = new TagListState();\n  addTagList();\n  addTagFilter();\n  addTagLabels();\n  addTagControl();\n  addTagComposer();\n});\nimport './forum';","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Separator from 'flarum/common/components/Separator';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport TagLinkButton from './components/TagLinkButton';\nimport TagsPage from './components/TagsPage';\nimport app from 'flarum/forum/app';\nimport sortTags from '../common/utils/sortTags';\nexport default function () {\n  // Add a link to the tags page, as well as a list of all the tags,\n  // to the index page's sidebar.\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    items.add('tags', m(LinkButton, {\n      icon: \"fas fa-th-large\",\n      href: app.route('tags')\n    }, app.translator.trans('flarum-tags.forum.index.tags_link')), -10);\n    if (app.current.matches(TagsPage)) return;\n    items.add('separator', m(Separator, null), -12);\n    const params = app.search.stickyParams();\n    const tags = app.store.all('tags');\n    const currentTag = this.currentTag();\n    const addTag = tag => {\n      let active = currentTag === tag;\n      if (!active && currentTag) {\n        active = currentTag.parent() === tag;\n      }\n\n      // tag.name() is passed here as children even though it isn't used directly\n      // because when we need to get the active child in SelectDropdown, we need to\n      // use its children to populate the dropdown. The problem here is that `view`\n      // on TagLinkButton is only called AFTER SelectDropdown, so no children are available\n      // for SelectDropdown to use at the time.\n      items.add('tag' + tag.id(), m(TagLinkButton, {\n        model: tag,\n        params: params,\n        active: active\n      }, tag == null ? void 0 : tag.name()), -14);\n    };\n    sortTags(tags).filter(tag => tag.position() !== null && (!tag.isChild() || currentTag && (tag.parent() === currentTag || tag.parent() === currentTag.parent()))).forEach(addTag);\n    const more = tags.filter(tag => tag.position() === null).sort((a, b) => b.discussionCount() - a.discussionCount());\n    more.splice(0, 3).forEach(addTag);\n    if (more.length) {\n      items.add('moreTags', m(LinkButton, {\n        href: app.route('tags')\n      }, app.translator.trans('flarum-tags.forum.index.more_link')), -16);\n    }\n  });\n}","import { extend } from 'flarum/common/extend';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport classList from 'flarum/common/utils/classList';\nimport tagsLabel from '../common/helpers/tagsLabel';\nimport sortTags from '../common/utils/sortTags';\nexport default function () {\n  // Add tag labels to each discussion in the discussion list.\n  extend(DiscussionListItem.prototype, 'infoItems', function (items) {\n    const tags = this.attrs.discussion.tags();\n    if (tags && tags.length) {\n      items.add('tags', tagsLabel(tags), 10);\n    }\n  });\n\n  // Restyle a discussion's hero to use its first tag's color.\n  extend(DiscussionHero.prototype, 'view', function (view) {\n    const tags = sortTags(this.attrs.discussion.tags());\n    if (tags && tags.length) {\n      const color = tags[0].color();\n      if (color) {\n        view.attrs.style = {\n          '--hero-bg': color\n        };\n        view.attrs.className = classList(view.attrs.className, 'DiscussionHero--colored', textContrastClass(color));\n      }\n    }\n  });\n\n  // Add a list of a discussion's tags to the discussion hero, displayed\n  // before the title. Put the title on its own line.\n  extend(DiscussionHero.prototype, 'items', function (items) {\n    const tags = this.attrs.discussion.tags();\n    if (tags && tags.length) {\n      items.add('tags', tagsLabel(tags, {\n        link: true\n      }), 5);\n    }\n  });\n}","import { extend } from 'flarum/common/extend';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Button from 'flarum/common/components/Button';\nimport TagDiscussionModal from './components/TagDiscussionModal';\nexport default function () {\n  // Add a control allowing the discussion to be moved to another category.\n  extend(DiscussionControls, 'moderationControls', function (items, discussion) {\n    if (discussion.canTag()) {\n      items.add('tags', m(Button, {\n        icon: \"fas fa-tag\",\n        onclick: () => app.modal.show(TagDiscussionModal, {\n          discussion\n        })\n      }, app.translator.trans('flarum-tags.forum.discussion_controls.edit_tags_button')));\n    }\n  });\n}","import { extend, override } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionComposer from 'flarum/forum/components/DiscussionComposer';\nimport classList from 'flarum/common/utils/classList';\nimport TagDiscussionModal from './components/TagDiscussionModal';\nimport tagsLabel from '../common/helpers/tagsLabel';\nimport getSelectableTags from './utils/getSelectableTags';\nexport default function () {\n  extend(IndexPage.prototype, 'newDiscussionAction', function (promise) {\n    // From `addTagFilter\n    const tag = this.currentTag();\n    if (tag) {\n      const parent = tag.parent();\n      const tags = parent ? [parent, tag] : [tag];\n      promise.then(composer => composer.fields.tags = tags);\n    } else {\n      app.composer.fields.tags = [];\n    }\n  });\n  extend(DiscussionComposer.prototype, 'oninit', function () {\n    app.tagList.load(['parent']).then(() => m.redraw());\n  });\n\n  // Add tag-selection abilities to the discussion composer.\n  DiscussionComposer.prototype.chooseTags = function () {\n    const selectableTags = getSelectableTags();\n    if (!selectableTags.length) return;\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: (this.composer.fields.tags || []).slice(0),\n      onsubmit: tags => {\n        this.composer.fields.tags = tags;\n        this.$('textarea').focus();\n      }\n    });\n  };\n\n  // Add a tag-selection menu to the discussion composer's header, after the\n  // title.\n  extend(DiscussionComposer.prototype, 'headerItems', function (items) {\n    const tags = this.composer.fields.tags || [];\n    const selectableTags = getSelectableTags();\n    items.add('tags', m(\"a\", {\n      className: classList(['DiscussionComposer-changeTags', !selectableTags.length && 'disabled']),\n      onclick: this.chooseTags.bind(this)\n    }, tags.length ? tagsLabel(tags) : m(\"span\", {\n      className: \"TagLabel untagged\"\n    }, app.translator.trans('flarum-tags.forum.composer_discussion.choose_tags_link'))), 10);\n  });\n  override(DiscussionComposer.prototype, 'onsubmit', function (original) {\n    const chosenTags = this.composer.fields.tags || [];\n    const chosenPrimaryTags = chosenTags.filter(tag => tag.position() !== null && !tag.isChild());\n    const chosenSecondaryTags = chosenTags.filter(tag => tag.position() === null);\n    const selectableTags = getSelectableTags();\n    const minPrimaryTags = parseInt(app.forum.attribute('minPrimaryTags'));\n    const minSecondaryTags = parseInt(app.forum.attribute('minSecondaryTags'));\n    const maxPrimaryTags = parseInt(app.forum.attribute('maxPrimaryTags'));\n    const maxSecondaryTags = parseInt(app.forum.attribute('maxSecondaryTags'));\n    if ((!chosenTags.length && maxPrimaryTags !== 0 && maxSecondaryTags !== 0 || chosenPrimaryTags.length < minPrimaryTags || chosenSecondaryTags.length < minSecondaryTags) && selectableTags.length) {\n      app.modal.show(TagDiscussionModal, {\n        selectedTags: chosenTags,\n        onsubmit: tags => {\n          this.composer.fields.tags = tags;\n          original();\n        }\n      });\n    } else {\n      original();\n    }\n  });\n\n  // Add the selected tags as data to submit to the server.\n  extend(DiscussionComposer.prototype, 'data', function (data) {\n    data.relationships = data.relationships || {};\n    data.relationships.tags = this.composer.fields.tags;\n  });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["flarum","reg","get","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","arg","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","TagListState","this","async","includes","loadedIncludes","query","unloadedIncludes","filter","include","has","length","Promise","resolve","Set","join","then","val","forEach","add","tagIcon","tag","attrs","settings","hasIcon","icon","useColor","className","style","color","m","TagLinkButton","view","vnode","model","description","child","isChild","href","route","title","name","app","translator","trans","static","super","initAttrs","params","tags","slug","tagLabel","link","tagText","sortTags","slice","sort","a","b","aPos","position","bPos","discussionCount","aParent","parent","bParent","TagsPage","oninit","history","push","preloaded","preloadedApiDocument","loading","tagList","load","store","all","redraw","oncreate","setTitle","setTitleCount","pageContent","toArray","items","hero","mainContent","sidebar","content","contentItems","pinned","cloud","tagTileListView","cloudView","sidebarItems","map","tagTileView","bind","lastPostedDiscussion","children","colored","discussion","lastPostNumber","lastPostedAt","TagHero","findTag","find","localeCompare","sensitivity","tagsLabel","otherAttrs","getSelectableTags","canAddToDiscussion","indexOf","canStartDiscussion","ToggleButton","isToggled","assign","TagSelectionModal","arguments","_attrs$limits$min$tot","_attrs$limits","_attrs$limits$min","_attrs$limits$min$pri","_attrs$limits2","_attrs$limits2$min","_attrs$limits$min$sec","_attrs$limits3","_attrs$limits3$min","_attrs$limits$max$tot","_attrs$limits4","_attrs$limits4$max","_attrs$limits$max$pri","_attrs$limits5","_attrs$limits5$max","_attrs$limits$max$sec","_attrs$limits6","_attrs$limits6$max","canSelect","allowResetting","limits","min","total","primary","secondary","max","Infinity","Error","catchInvalidLimits","navigator","onUp","setIndex","getCurrentNumericIndex","onDown","onSelect","select","onRemove","selected","splice","selectableTags","selectedTags","addTag","indexTag","toLowerCase","primaryCount","secondaryCount","getFilteredTags","inputWidth","Math","getInstruction","focused","onclick","$","focus","removeTag","onready","placeholder","bidi","width","onkeydown","navigate","onfocus","onblur","type","disabled","meetsRequirements","id","active","onmouseover","toggleTag","allowBypassing","bypassReqs","requireParentTag","isPrimary","index","t","onDeselect","remaining","count","onsubmit","e","preventDefault","hide","metaKey","ctrlKey","click","getItem","dispatchEvent","Event","selectableItems","selectedTag","concat","scrollToItem","$items","$dropdown","$item","eq","attr","dropdownScroll","scrollTop","dropdownTop","offset","top","dropdownBottom","outerHeight","itemTop","itemBottom","parseInt","css","stop","animate","TagDiscussionModal","_attrs$discussion","suppliedOnsubmit","save","relationships","update","DiscussionTaggedPost","oldTags","post","newTags","diffTags","tags1","tags2","getById","tagsAdded","tagsRemoved","descriptionKey","descriptionData","data","Tag","backgroundUrl","backgroundMode","defaultSort","isHidden","isRestricted","helper","hasMany","attribute","extend","currentTag","more","currentActiveTag","currentTagLoading","finally","override","original","vdom","newDiscussion","param","_params$include","_params$filter","q","canTag","modal","show","promise","composer","fields","chooseTags","chosenTags","chosenPrimaryTags","chosenSecondaryTags","minPrimaryTags","forum","minSecondaryTags","maxPrimaryTags","maxSecondaryTags","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","n","getter","__esModule","d","definition","o","prop","hasOwnProperty","r","toStringTag"],"sourceRoot":""}